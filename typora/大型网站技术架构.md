### 大型网站技术架构

1. 大型网站架构演化发展历程

   1. 初始阶段:应用程序,数据库,文件都在一台服务器上.
   2. 应用程序和数据库分离:需要应用程序服务器,文件服务器和数据库服务器.
   3. 使用缓存改善网站性能:将经常读取的数据放到缓存中.
   4. 数据库读写分离.
   5. 使用反向代理和CDN加速网站响应.他们的基本原理都是缓存,CDN部署在网络提供商的机房,用户请求网站可以从最近的机房获取数据.反向代理部署在网站中心机房,当用户的请求到达中心机房后,首先访问的是反向代理服务器,如果反向代理服务器中缓存中用户请求的资源,就将其直接返回给用户.
   6. 使用分布式文件系统和分布式数据库系统:分布式数据库是网站数据库拆分的最后手段,只有单表数据规模非常庞大的时候才使用.
   7. 使用nosql和搜索引擎.
   8. 业务拆分:将一个网站拆分成许多不同的应用.
   9. 分布式系统

2. 大型网站架构模式

   1. 分层:应用层,服务层(为应用层提供服务支持,如用户管理,购物车服务等),数据层.
   2. 分割:纵方向上对软件进行切分.将功能和服务分割,包装成高内聚低耦合的模块单元.
   3. 分布式:①分布式应用和服务②分布式静态资源③分布式数据和存储④分布式计算
   4. 集群
   5. 缓存:CDN和反向代理.
   6. 异步:消息队列.
   7. 冗余:数据库出现故障,会有备份的数据库继续提供服务.
   8. 自动化:自动化部署,自动化代码管理,自动化安全监测.
   9. 安全:密码和手机验证码.

3. 大型网站核心架构要素

      性能,可用性,伸缩性,扩展性,安全性.

4. 网站的高性能架构

   1. 性能测试指标:响应时间,并发数,吞吐量,性能计数器
   2. Web前端性能优化
      - 减少http请求:合并CSS,合并JavaScript,合并图片.
      - 使用浏览器缓存:将CSS,js,图标这些静态资源的文件放入到浏览器的缓存中.
      - 启用压缩:启用Gzip压缩.
      - CSS放在页面最上面,JavaScript放在页面最下面.CSS需要下载.
      - 减少Cookie传输:
   3. CDN加速
   4. 反向代理

5. 应用服务器性能优化

6. 2020年11月22日22:17:29