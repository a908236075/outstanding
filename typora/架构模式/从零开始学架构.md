# 第一部分 概念和基础

## 基础架构

### 模块和组件的区别:

​	从逻辑的角度查分得来的单元是"模块",从物理角度拆分的系统得到的单元是"组件";划分模块的主要目的是职责分离,划分组件的主要目的是单元复用.

### 为什么要做架构设计

1. 架构设计是为了解决**复杂度**带来的问题.顺带解决了系统的高性能,高可用和可扩展.

## 架构设计原则

### 合适原则

​	优秀的架构是业务量倒逼出来的,没有真实的场景永远是纸上谈兵.所以想提高,也点到真实的场景中去.

### 简单原则

​	Keep It Simple Stupid!

### 演化原则

​	演化优于一步到位.对于建筑来说,永恒是主题,对于软件来说,变化才是主题.

## 架构设计流程

### 识别系统复杂度

​	高性能,高可用和高扩展三方面,最多设计两方面的优化.

### 设计备选方案

架构设计最常见的错误

1. 设计最优秀的方案.
2. 只做一个方案.正确的备选方案数量为3~5个.备选方案需要具有差异化.不能只局限于已经熟悉的技术.
3. 备选方案过于详细.

### 评估和选择备选方案

1. 最简派,最牛派,最熟派,领导派.

2. 常见错误:
   - 数量对比法 集群方案2个占优比拆分方案3个占优少,所以选择拆分方案.质量属性的重要性不等同.
   - 加权法:每个属性给一个权值,但是权值并不客观,放在不同的公司权值并不相同.
3. 正确的做法是:按优先级选择.例如创业公司可能成本最优先.
4. 避免方案重选
   1. 必须要深入理解选择方案的组件,例如ElastichSearch,熟悉它的细节.
   2. 降低方案复杂度,越复杂的方案越容易被细节推翻.
   3. 如果方案本身就很复杂,就让大家一起讨论.









