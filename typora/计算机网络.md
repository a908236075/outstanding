## 计算机网络

### 网络层

1. 将一个C类网址分成两个网段
   1. 主机部分不全为1或0, 全为零主机部分为零不能代表自己有ip,全为1主机部分为255,255被定义为广播了.全为1说的划分网段的时候二进制全为1,例如11111111这个代表127,所以这个网址规定为广播是不能被使用的.
   2. 每个网段的最后一位地址是广播地址不能用.
   3. 划分子网要遵循除以2的关系.每除以一次2子网掩码向前移动一位.
   
2. 超网 将两个分着的网段合并成一个网,叫做超网.

3. 数据传输的时候,数据包不变,数据帧由于记录了数据源和目的地的mac地址,每次请求都会变化.

4. ip地址决定了最终跳转到谁,mac地址决定了下一步跳转到谁.  

5. 计算机的网口不能加两个网关,联网时会导致将数据均衡的上报,导致上网的时候时断时同,丢掉一半的数据.

6. 网络请求的头部:

   ![image-20201201100213093](C:\Users\b9082\AppData\Roaming\Typora\typora-user-images\image-20201201100213093.png)

7. 头部的各个部分的介绍

   - 版本:ipv6/4
   - 首部长度:首部一共的长度.
   - 区分服务:打上标记,数据是否着急.
   - 总长度:首部加上数据包一共有多少长度.
   - 标识:没产生一个数据报加一.
   - 片偏移:将大数据进行分包,分开包的首个字节数/8获取片偏移.
   - 生存时间:TTL发包的时候为128,每经过一次路由减掉1,防止在网络上一直重复的传递.
   - 协议号:用数字标记,例如17为UDP协议.
   - 首部校验和:校验首部数据是否有错误.

8. 网络层有四个协议：ARP协议，IP协议，ICMP协议，IGMP协议。ARP协议为IP协议提供服务，IP协议为ICMP协议提供服务，ICMP协议为IGMP协

   议提供服务。

9. ICMP协议:报错功能的协议,具有重定向的功能.
10. 动态路由协议: 动态的选择最佳路径.   RIP协议 周期性广播 30秒   根据跳数判断最佳的路径.

11. TCP协议

    1. 特点
       - Tcp面向连接的传输层协议.连接的时候会建立会话,是一个可靠的传输.
       - 点对点的通信,不像UDP那样一对多,多对多.套接字(ip地址加端口)代表一个点.
       - 提供双工的通信.为了确定接受者正常,需要收到反馈,所以需要双工通信.
       - 面向字节流.TCP缓存读取数据的时候,与网络发送字节数据没有关系
       - ![image-20201204102658025](C:\Users\b9082\AppData\Roaming\Typora\typora-user-images\image-20201204102658025.png)
    2. 学习重点:可靠传输,流量控制,避免网络拥塞分别怎么实现.
    3. 可靠传输的工作原理
       1. 停止等待协议
          1. 无差错情况
          2. 超时重传
          3. 自动重传请求
          4. 缺点:信道利用率低.大部分时间都是在等待确认信息回来.
       2. 连续ARQ协议
          - 流水线传输:不用等待第一次发送回来的确认信息,就发第二个数据包.运用窗口技术
          - 累积确认:只发连续收到的最大的那个,发送1234 接收到了124  返回确认为2收到了.

    4. TCP报文段的首部格式

       ![image-20201204104116907](C:\Users\b9082\AppData\Roaming\Typora\typora-user-images\image-20201204104116907.png)

       1. 序号:数据段的第一字节是整个文档的第几个字节
       2. 确认号:接受者等待发送者发送第几个字节的数据,这个字节之前的发送者可以认为都收到了.
       3. 数据偏移:告诉计算机首部有多长,剩余的都是数据.首部最大60个字节,其中20字节为固定的部分,所以首部的选项最多为40个字节.
       4. 抓包分析访问网站
          1. ![image-20201204112410130](C:\Users\b9082\AppData\Roaming\Typora\typora-user-images\image-20201204112410130.png)
          2. 